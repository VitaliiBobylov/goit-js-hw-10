import"./assets/styles-DwUZevjv.js";import{f as u,i as a}from"./assets/vendor-BbbuE1sJ.js";class c{constructor({dateInputSelector:t,startBtnSelector:e,outputSelectors:s}){this.dateInput=document.querySelector(t),this.startBtn=document.querySelector(e),this.outputEls={days:document.querySelector(s.days),hours:document.querySelector(s.hours),minutes:document.querySelector(s.minutes),seconds:document.querySelector(s.seconds)},this.targetDate=null,this.intervalId=null,this.init()}init(){this.startBtn.disabled=!0,this.startBtn.addEventListener("click",this.start.bind(this)),u(this.dateInput,{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose:this.handleDateSelect.bind(this)})}handleDateSelect(t){const e=t[0];if(e<=new Date){a.error({title:"Error",message:"Illegal operation",position:"topRight"}),this.startBtn.disabled=!0;return}this.targetDate=e,this.startBtn.disabled=!1}start(){this.targetDate&&(clearInterval(this.intervalId),this.intervalId=setInterval(()=>{const t=new Date,e=this.targetDate-t;if(e<=0){clearInterval(this.intervalId),this.updateDisplay({days:0,hours:0,minutes:0,seconds:0}),a.success({title:"Timer",message:"Countdown finished!",position:"topRight"});return}const s=this.convertMs(e);this.updateDisplay(s)},1e3))}updateDisplay({days:t,hours:e,minutes:s,seconds:n}){this.outputEls.days.textContent=String(t).padStart(2,"0"),this.outputEls.hours.textContent=String(e).padStart(2,"0"),this.outputEls.minutes.textContent=String(s).padStart(2,"0"),this.outputEls.seconds.textContent=String(n).padStart(2,"0")}convertMs(t){const r=Math.floor(t/864e5),i=Math.floor(t%864e5/36e5),o=Math.floor(t%864e5%36e5/6e4),d=Math.floor(t%864e5%36e5%6e4/1e3);return{days:r,hours:i,minutes:o,seconds:d}}}new c({dateInputSelector:"#datetime-picker",startBtnSelector:"[data-start]",outputSelectors:{days:"[data-days]",hours:"[data-hours]",minutes:"[data-minutes]",seconds:"[data-seconds]"}});
//# sourceMappingURL=1-timer.js.map
